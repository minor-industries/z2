{{ template "header" . }}

<h1 style="text-align: center;" id="title">&nbsp;</h1>

<script type="module">
    import {setupAnalysis} from "/z2/z2-bundle.js";
    import {getEnv} from "/env.js"

    const url = new URL(window.location.href);
    const params = new URLSearchParams(url.search);
    const date = params.get('date');

    document.addEventListener("DOMContentLoaded", async () => {
        document.getElementById("title").textContent = date;

        const env = await getEnv();

        setupAnalysis(env, {
            date: date,
            ref: "ruck", // TODO?
            seriesNames: [
                "heartrate | time-bin",
            ],
            title: "Heart Rate",
            ylabel: "heart rate (bpm)",
        });
    });
</script>

<div class="pure-g">
    <div class="pure-u-1">
        <div id="graphdiv0" class="rtgraph-graph"></div>
    </div>

    <div class="pure-u-1">
        <div id="graphdiv1" class="rtgraph-graph"></div>
    </div>
</div>

{{ template "back-button" . }}

{{ template "footer" . }}