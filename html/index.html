<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Graphs</title>

    <style>
        .wide {
            width: 97.5%;
            margin-bottom: 10px;
        }
    </style>

    <style>
        .container {
            display: flex;
        }

        .column {
            flex: 1;
            /*padding: 10px;*/
            margin-bottom: 10px;
            margin-right: 20px;
        }
    </style>

    <script type="text/javascript" src="dygraph.min.js"></script>
    <link rel="stylesheet" type="text/css" href="dygraph.css"/>
    <script type="text/javascript" src="msgpack.min.js"></script>
    <script type="text/javascript" src="graphs.js"></script>
    <script type="text/javascript">
        const minute = 1000 * 60;

        Dygraph.onDOMready(function onDOMready() {
            makeGraph(document.getElementById("graphdiv0"), {
                series: ["bike_instant_speed", "bike_instant_speed_avg_30s"],
                title: "Speed",
                ylabel: "speed (km/h)",
                windowSize: minute,
                labels: ["x", "y0", "y1"],
                height: 300,
            });
            makeGraph(document.getElementById("graphdiv1"), {
                series: ["bike_instant_cadence", "bike_instant_cadence_avg_30s"],
                title: "Cadence",
                ylabel: "cadence (rpm)",
                windowSize: minute,
                labels: ["x", "y0", "y1"],
                height: 300,
            });
            makeGraph(document.getElementById("graphdiv2"), {
                series: ["bike_instant_power", "bike_instant_power_avg_30s"],
                title: "Power",
                ylabel: "power (watts)",
                windowSize: minute,
                labels: ["x", "y0", "y1"],
                height: 300,
            });
            makeGraph(document.getElementById("graphdiv3"), {
                series: ["bike_instant_speed_avg_30s"],
                title: "Speed",
                ylabel: "speed (km/h)",
                windowSize: 60 * minute,
                labels: ["x", "y0"],
                height: 300,
                valueRange: [35.0, 45.0],
            });

        });
    </script>
</head>
<body>
<div class="container">
    <div id="graphdiv0" class="column"></div>
    <div id="graphdiv1" class="column"></div>
    <div id="graphdiv2" class="column"></div>
</div>

<div class="wide" id="graphdiv3"></div>

</body>
</html>