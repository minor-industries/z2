<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bike</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" type="text/css" href="rtgraph/dygraph.css"/>
    <link rel="stylesheet" type="text/css" href="rtgraph/rtgraph.css"/>

    <link rel="stylesheet" type="text/css" href="rtgraph/purecss/base-min.css">
    <link rel="stylesheet" type="text/css" href="rtgraph/purecss/pure-min.css">
    <link rel="stylesheet" type="text/css" href="rtgraph/purecss/grids-responsive-min.css">

    <script type="text/javascript" src="rtgraph/dygraph.min.js"></script>
    <script type="text/javascript" src="rtgraph/msgpack.min.js"></script>
    <script type="text/javascript" src="rtgraph/rtgraph.js"></script>

    <script type="text/javascript">
        const second = 1000;
        const minute = second * 60;

        const seriesOpts = {
            y1: {
                strokeWidth: 1.0
            }
        }

        Dygraph.onDOMready(function onDOMready() {
            new Graph(document.getElementById("graphdiv0"), {
                seriesNames: [
                    "bike_instant_speed | gt 20 | avg 30s",
                    "bike_instant_speed"
                ],
                title: "Speed: {value}",
                ylabel: "speed (km/h)",
                windowSize: minute,
                labels: ["x", "y0", "y1"],
                height: 250,
                series: seriesOpts,
                maxGapMs: 5 * second
            });
            new Graph(document.getElementById("graphdiv1"), {
                seriesNames: [
                    "bike_instant_cadence | gt 30 | avg 30s",
                    "bike_instant_cadence"
                ],
                title: "Cadence: {value}",
                ylabel: "cadence (rpm)",
                windowSize: minute,
                labels: ["x", "y0", "y1"],
                height: 250,
                series: seriesOpts,
                maxGapMs: 5 * second
            });
            new Graph(document.getElementById("graphdiv2"), {
                seriesNames: [
                    "bike_instant_power | gt 150 | avg 30s",
                    "bike_instant_power"
                ],
                title: "Power: {value}",
                ylabel: "power (watts)",
                windowSize: minute,
                labels: ["x", "y0", "y1"],
                height: 250,
                series: seriesOpts,
                maxGapMs: 5 * second
            });
            new Graph(document.getElementById("graphdiv3"), {
                seriesNames: [
                    "bike_instant_speed | gt 20 | avg 15m"
                ],
                title: "Avg Speed: {value}",
                ylabel: "speed (km/h)",
                windowSize: 15 * minute,
                labels: ["x", "y0"],
                height: 250,
                maxGapMs: 5 * second
            });
        });
    </script>
</head>
<body>
<!--<div class="container">-->
<!--    <div id="graphdiv0" class="column"></div>-->
<!--    <div id="graphdiv1" class="column"></div>-->
<!--    <div id="graphdiv2" class="column"></div>-->
<!--</div>-->

<!--<div class="wide" id="graphdiv3"></div>-->


<div class="pure-g">
    <div class="pure-u-1 pure-u-sm-1-3">
        <div id="graphdiv0" class="rtgraph-graph"></div>
    </div>

    <div class="pure-u-1 pure-u-sm-2-3">
        <div id="graphdiv3" class="rtgraph-graph"></div>
    </div>

    <div class="pure-u-1 pure-u-sm-1-3">
        <div id="graphdiv1" class="rtgraph-graph"></div>
    </div>

    <div class="pure-u-1 pure-u-sm-1-3">
        <div id="graphdiv2" class="rtgraph-graph"></div>
    </div>
</div>

</body>
</html>